<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Macro Calculator - CalcHub</title><link rel="stylesheet" href="../../css/style.css"><link rel="stylesheet" href="../../css/calculator.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></head>
<body class="calculator-page"><header class="calculator-header"><div class="container"><a href="../../index.html" class="back-button"><i class="fas fa-arrow-left"></i> Back</a><div class="calculator-title"><i class="fas fa-drumstick-bite"></i><h1>Macro Calculator</h1></div></div></header>
<main class="calculator-container"><div class="container"><div class="calculator-content"><div class="calculator-description"><h2>About</h2><p>Calculate daily macronutrient targets (protein, carbs, fats) based on goals.</p></div>
<div class="calculator-form"><form id="macroForm"><div class="form-section"><h3>Your Information</h3>
<div class="form-group"><label>Weight (kg)</label><input type="number" id="weight" step="any" value="68" required></div>
<div class="form-group"><label>Goal</label><select id="goal"><option value="cut">Weight Loss (Cut)</option><option value="maintain">Maintain Weight</option><option value="bulk">Muscle Gain (Bulk)</option></select></div>
<div class="form-group"><label>Activity Level</label><select id="activity"><option value="1.2">Sedentary (little/no exercise)</option><option value="1.375">Lightly Active (1-3 days/week)</option><option value="1.55" selected>Moderately Active (3-5 days/week)</option><option value="1.725">Very Active (6-7 days/week)</option><option value="1.9">Extremely Active (athlete)</option></select></div>
<div class="form-group"><label>Diet Style</label><select id="style"><option value="balanced">Balanced (40/30/30)</option><option value="lowcarb">Low Carb (40/20/40)</option><option value="highcarb">High Carb (50/30/20)</option><option value="keto">Keto (70/25/5)</option></select></div>
</div><div class="button-group"><button type="submit" class="btn btn-primary"><i class="fas fa-calculator"></i> Calculate</button></div></form></div>
<div id="result" class="result-container"><h3>Daily Macros</h3>
<div class="result-item"><div class="result-value" id="calories" style="font-size:2.5rem;">--</div><div style="color:#666;margin-top:0.5rem;">Total Calories</div></div>
<div class="result-breakdown" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-top:1.5rem;">
<div style="text-align:center;padding:1.5rem;background:#e3f2fd;border-radius:12px;"><div style="font-size:2rem;font-weight:bold;color:#1976d2;" id="proteinG">--</div><div style="margin-top:0.5rem;font-weight:600;">Protein (g)</div><div style="color:#666;font-size:0.9rem;" id="proteinCal">--</div></div>
<div style="text-align:center;padding:1.5rem;background:#fff3e0;border-radius:12px;"><div style="font-size:2rem;font-weight:bold;color:#f57c00;" id="carbsG">--</div><div style="margin-top:0.5rem;font-weight:600;">Carbs (g)</div><div style="color:#666;font-size:0.9rem;" id="carbsCal">--</div></div>
<div style="text-align:center;padding:1.5rem;background:#f3e5f5;border-radius:12px;"><div style="font-size:2rem;font-weight:bold;color:#7b1fa2;" id="fatG">--</div><div style="margin-top:0.5rem;font-weight:600;">Fat (g)</div><div style="color:#666;font-size:0.9rem;" id="fatCal">--</div></div>
</div></div></div></div></main>
<footer><div class="container"><p>&copy; 2025 CalcHub</p></div></footer>
<script>
document.getElementById('macroForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const weight = parseFloat(document.getElementById('weight').value);
    const goal = document.getElementById('goal').value;
    const activity = parseFloat(document.getElementById('activity').value);
    const style = document.getElementById('style').value;
    
    // original formula expects weight in lbs; convert kg -> lbs first to preserve behavior
    const weightLbs = weight * 2.20462;
    let bmr = weightLbs * 10;
    let tdee = bmr * activity;
    let calories;
    if (goal === 'cut') calories = tdee * 0.8;
    else if (goal === 'bulk') calories = tdee * 1.1;
    else calories = tdee;
    
    let proteinPct, carbPct, fatPct;
    if (style === 'balanced') { proteinPct = 0.3; carbPct = 0.4; fatPct = 0.3; }
    else if (style === 'lowcarb') { proteinPct = 0.4; carbPct = 0.2; fatPct = 0.4; }
    else if (style === 'highcarb') { proteinPct = 0.3; carbPct = 0.5; fatPct = 0.2; }
    else { proteinPct = 0.25; carbPct = 0.05; fatPct = 0.7; }
    
    const proteinCal = calories * proteinPct;
    const carbCal = calories * carbPct;
    const fatCal = calories * fatPct;
    
    const proteinG = Math.round(proteinCal / 4);
    const carbG = Math.round(carbCal / 4);
    const fatG = Math.round(fatCal / 9);
    
    document.getElementById('calories').textContent = Math.round(calories);
    document.getElementById('proteinG').textContent = proteinG;
    document.getElementById('proteinCal').textContent = Math.round(proteinCal) + ' cal (' + Math.round(proteinPct * 100) + '%)';
    document.getElementById('carbsG').textContent = carbG;
    document.getElementById('carbsCal').textContent = Math.round(carbCal) + ' cal (' + Math.round(carbPct * 100) + '%)';
    document.getElementById('fatG').textContent = fatG;
    document.getElementById('fatCal').textContent = Math.round(fatCal) + ' cal (' + Math.round(fatPct * 100) + '%)';
    document.getElementById('result').style.display = 'block';
});
</script></body></html>
